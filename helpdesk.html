<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C4VRD1C9QS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-C4VRD1C9QS');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helpdesk & Support - Top Sarkari Jobs</title>
    <meta name="description" content="Contact Top Sarkari Jobs for any queries related to government jobs, results, or website issues. We are here to help.">
    <meta name="keywords" content="helpdesk, contact us, support, top sarkari jobs contact, query">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://topsarkarijobs.com/helpdesk.html">
    <link rel="icon" type="image/x-icon" href="image.ico">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://topsarkarijobs.com/helpdesk.html">
    <meta property="og:title" content="Helpdesk & Support - Top Sarkari Jobs">
    <meta property="og:description" content="Contact Top Sarkari Jobs for any queries related to government jobs, results, or website issues.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary-500: #0ea5e9;
            --muted-bg: #f8fafc
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            background: var(--muted-bg);
            color: #0f172a
        }
    </style>
</head>

<body>

    <div class="min-h-screen flex flex-col">
        <!-- Header with Navigation -->
        <header class="bg-gradient-to-r from-sky-600 to-indigo-600 text-white shadow-sm relative">
            <div class="container mx-auto max-w-6xl px-4 py-4">
                <div class="flex items-center justify-between">
                    <h1 class="text-2xl font-bold flex items-center">
                        <img src="image.png" alt="Top Sarkari Jobs Logo" class="h-10 w-10 mr-3 rounded-full">
                        Helpdesk & Support
                    </h1>
                    <nav>
                        <a href="index.html" class="text-white hover:underline flex items-center">
                            <i class="fas fa-arrow-left mr-2"></i>Go back
                        </a>
                    </nav>
                </div>
            </div>
        </header>

        <main class="mx-auto w-full px-4 py-6">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden max-w-4xl mx-auto">
                <div class="p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2 flex items-center"><i
                            class="fas fa-headset mr-3 text-blue-600"></i>Helpdesk / सहायता</h2>
                    <p class="text-gray-600 mb-4">Yahan aap apni problem submit kar sakte hain. कृपया पूरा नाम, मोबाइल
                        नंबर और संदेश भरें।</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-semibold mb-2">Instructions / निर्देश</h3>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                <li>Naam: poora naam likhen (First + Last).</li>
                                <li>Mobile: 10-digit mobile number dalein (WhatsApp number accha rahega).</li>
                                <li>Submit karne ke baad hum aapko jald contact karenge.</li>
                            </ul>
                        </div>

                        <form id="helpdesk-form" class="space-y-4 bg-gray-50 p-4 rounded">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input id="name" type="text"
                                    class="mt-1 block w-full border border-gray-300 rounded px-3 py-2"
                                    placeholder="Aapka poora naam" required>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700">Mobile Number</label>
                                <input id="mobile" type="tel"
                                    class="mt-1 block w-full border border-gray-300 rounded px-3 py-2"
                                    placeholder="10-digit number" required>
                            </div>

                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-gray-700">Message / संदेश</label>
                                <textarea id="message" rows="4"
                                    class="mt-1 block w-full border border-gray-300 rounded px-3 py-2"
                                    placeholder="Apni request ya problem yahan likhen" required></textarea>
                            </div>

                            <div class="flex items-center justify-between">
                                <button type="submit"
                                    class="px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700">Submit</button>
                                <button type="button" id="clear-btn"
                                    class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">Clear</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Success Toast -->
            <div id="success-toast"
                class="fixed bottom-6 right-6 bg-white border border-green-200 shadow px-4 py-3 rounded hidden">
                <div class="flex items-start gap-3">
                    <i class="fas fa-check-circle text-green-500 text-2xl mt-0.5"></i>
                    <div>
                        <div class="font-semibold text-gray-800">Form Submitted</div>
                        <div id="success-text" class="text-sm text-gray-600">Hamari team jald hi aapse sampark karegi.
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-white text-gray-800 py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold">Top Sarkari Jobs</h3>
                    <p class="text-gray-600 text-sm mt-1">Your gateway to government jobs and services</p>
                </div>
                <div class="flex flex-wrap gap-3" id="footer-social-links">
                    <!-- Social links will be populated here -->
                </div>
            </div>
            <div class="border-t border-gray-200 mt-6 pt-6 text-center text-gray-600 text-sm">
                <p>&copy; 2025 Top Sarkari Jobs. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Load Supabase config and initialize
        let helpdeskSupabase = null;
        if (window.supabase) {
            fetch('config.json')
                .then(response => response.json())
                .then(config => {
                    helpdeskSupabase = window.supabase.createClient(config.supabase.url, config.supabase.anonKey);
                })
                .catch(error => {
                    console.warn('Could not load Supabase config:', error);
                });
        }

        (function () {
            const form = document.getElementById('helpdesk-form');
            const successToast = document.getElementById('success-toast');
            const successText = document.getElementById('success-text');
            const clearBtn = document.getElementById('clear-btn');

            form.addEventListener('submit', async function (e) {
                e.preventDefault(); // Make sure this is called first

                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;

                // Disable button to prevent double submission
                submitBtn.disabled = true;
                submitBtn.textContent = 'Submitting...';
                submitBtn.classList.add('opacity-50', 'cursor-not-allowed');

                try {
                    // Wait for Supabase to be initialized if available
                    if (!helpdeskSupabase && window.supabase) {
                        // Wait a bit for initialization
                        await new Promise(resolve => setTimeout(resolve, 100));
                    }

                    const name = document.getElementById('name').value.trim();
                    const mobile = document.getElementById('mobile').value.trim();
                    const message = document.getElementById('message').value.trim();

                    if (!name || mobile.length !== 10 || !message) {
                        alert('Please fill all fields correctly');
                        return;
                    }

                    // Insert into Supabase if available
                    if (helpdeskSupabase) {
                        const { data, error } = await helpdeskSupabase
                            .from('helpdesk_submissions')
                            .insert([
                                {
                                    name: name,
                                    mobile: mobile,
                                    message: message,
                                    created_at: new Date().toISOString()
                                }
                            ]);

                        if (error) {
                            console.error('Error submitting helpdesk request:', error);
                            alert('Failed to submit your request. Please try again.');
                            return;
                        }
                    } else {
                        console.warn('Supabase not available, form will still work');
                    }

                    // Success UI - make sure this runs
                    successText.textContent = 'Thanks ' + name + ', hum jald contact karenge.';
                    successToast.classList.remove('hidden');
                    setTimeout(() => successToast.classList.add('hidden'), 5000);
                    form.reset();

                } catch (err) {
                    console.error('Error:', err);
                    alert('Could not submit your request. Please check your connection and try again.');
                } finally {
                    // Re-enable button
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            });

            clearBtn.addEventListener('click', () => form.reset());
        })();
    </script>
</body>

</html>