<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C4VRD1C9QS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-C4VRD1C9QS');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helpdesk & Support - Top Sarkari Jobs</title>
    <meta name="description" content="Contact Top Sarkari Jobs for any queries related to government jobs, results, or website issues. We are here to help.">
    <meta name="keywords" content="helpdesk, contact us, support, top sarkari jobs contact, query">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://topsarkarijobs.com/helpdesk.html">
    <link rel="icon" type="image/x-icon" href="image.ico">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://topsarkarijobs.com/helpdesk.html">
    <meta property="og:title" content="Helpdesk & Support - Top Sarkari Jobs">
    <meta property="og:description" content="Contact Top Sarkari Jobs for any queries related to government jobs, results, or website issues.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- ✅ REQUIRED for injected header/footer -->
    <link rel="stylesheet" href="styles.css">

    <style>
        :root {
            --primary-500: #0ea5e9;
            --muted-bg: #f8fafc;
        }
        body {
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
            background: var(--muted-bg);
            color: #0f172a;
        }
    </style>
</head>

<body>
    <div class="min-h-screen flex flex-col">

        <!-- ✅ Injected Homepage Header -->
        <div id="site-header"></div>

        <main class="mx-auto w-full px-4 py-6">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden max-w-4xl mx-auto">
                <div class="p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2 flex items-center">
                        <i class="fas fa-headset mr-3 text-blue-600"></i>Helpdesk / सहायता
                    </h2>
                    <p class="text-gray-600 mb-1">
                        आप अपनी समस्या यहाँ सबमिट कर सकते हैं।
                        You can submit your problem here.
                    </p>
                    <p class="text-gray-600 mb-4">
                        कृपया अपना पूरा नाम और केवल व्हाट्सएप मोबाइल नंबर डालें और सबमिट करें।
                        Please enter your full name, and WhatsApp mobile number only.
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-semibold mb-2">Instructions / निर्देश</h3>
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                <li>नाम: अपना पूरा नाम लिखें (First + Last).</li>
                                <li>मोबाइल: 10 अंकों का WhatsApp नंबर डालें.</li>
                                <li>सबमिट करने के बाद हम संपर्क करेंगे.</li>
                            </ul>
                        </div>

                        <form id="helpdesk-form" class="space-y-4 bg-gray-50 p-4 rounded">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input id="name" type="text" class="mt-1 block w-full border rounded px-3 py-2" required>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700">Mobile Number</label>
                                <input id="mobile" type="tel" class="mt-1 block w-full border rounded px-3 py-2" required>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700">Message / संदेश</label>
                                <textarea id="message" rows="4" class="mt-1 block w-full border rounded px-3 py-2" required></textarea>
                            </div>

                            <div class="flex items-center justify-between">
                                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                    Submit
                                </button>
                                <button type="button" id="clear-btn" class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">
                                    Clear
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Success Toast -->
            <div id="success-toast" class="fixed bottom-6 right-6 bg-white border shadow px-4 py-3 rounded hidden">
                <div class="flex items-start gap-3">
                    <i class="fas fa-check-circle text-green-500 text-2xl"></i>
                    <div>
                        <div class="font-semibold">Form Submitted</div>
                        <div id="success-text" class="text-sm text-gray-600"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ✅ Injected Homepage Footer -->
        <div id="site-footer"></div>

    </div>

    <!-- Global site logic -->
    <script src="script.js"></script>

    <!-- Existing Helpdesk JS (UNCHANGED) -->
    <script>
        let helpdeskSupabase = null;
        if (window.supabase) {
            fetch('config.json')
                .then(r => r.json())
                .then(c => helpdeskSupabase = window.supabase.createClient(c.supabase.url, c.supabase.anonKey));
        }

        (function () {
            const form = document.getElementById('helpdesk-form');
            const toast = document.getElementById('success-toast');
            const text = document.getElementById('success-text');
            const clearBtn = document.getElementById('clear-btn');

            form.addEventListener('submit', async e => {
                e.preventDefault();
                const name = nameEl.value = document.getElementById('name').value.trim();
                const mobile = document.getElementById('mobile').value.trim();
                const message = document.getElementById('message').value.trim();
                if (!name || mobile.length !== 10 || !message) return alert('Fill all fields correctly');

                if (helpdeskSupabase) {
                    await helpdeskSupabase.from('helpdesk_submissions')
                        .insert([{ name, mobile, message, created_at: new Date().toISOString() }]);
                }
                text.textContent = `Thanks ${name}, hum jald contact karenge.`;
                toast.classList.remove('hidden');
                setTimeout(() => toast.classList.add('hidden'), 5000);
                form.reset();
            });

            clearBtn.addEventListener('click', () => form.reset());
        })();
    </script>
</body>
</html>
